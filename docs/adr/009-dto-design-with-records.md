# [ADR-009] Java Record를 사용한 DTO 설계 표준화

- **Status:** Adopted
- **Last Updated:** 2025-10-19

---

## 요약 (Summary)

DTO의 불변성을 보장하고 보일러플레이트 코드를 제거하기 위해, 모든 DTO(Request, Response 포함) 설계 시 Java `record` 타입을 사용하도록 표준화한다.

---

## Context (컨텍스트)

기존에는 요청 DTO는 `class`, 응답 DTO는 `record`로 설계하여 일관성이 부족하고, `class` 사용에 따른 보일러플레이트 코드(생성자, Getter 등)가 생산성을 저해했다. 프로젝트 기술 스택(Java 17+, Spring Boot 3+)이 `record` 타입을 완벽하게 지원하므로, DTO 설계 방식의 재검토가 필요하다.

---

## Decision (결정)

**데이터의 불변성(Immutability)을 보장하고 코드의 간결성을 극대화하기 위해, 모든 DTO(Request, Response 포함) 설계 시 `record` 타입을 우선적으로 사용하도록 표준화한다.**

- DTO는 데이터를 담는 목적에만 충실해야 하므로, 변경 가능한 상태를 가질 필요가 없다.
- `record`는 불변 객체를 손쉽게 생성할 수 있는 가장 현대적이고 효율적인 방법이다.
- DTO 내부에 비즈니스 로직이나 변경 가능한 상태가 필요한 매우 예외적인 경우에만 `class` 사용을 고려한다.

---

## Consequences (결과)

### 긍정적
- **보일러플레이트 코드 제거:** 모든 DTO에서 생성자, Getter 등의 반복적인 코드가 사라져 코드베이스가 매우 간결해지고 가독성이 향상된다.
- **데이터 불변성 확보:** 모든 데이터 전송 객체가 불변(Immutable)으로 설계되어, 데이터가 여러 계층을 거치는 동안 예기치 않게 변경될 가능성을 원천적으로 차단하여 시스템의 안정성과 예측 가능성을 높인다.
- **개발 컨벤션 단순화:** 'DTO는 `record`로 만든다'는 단일 규칙이 적용되어, 개발자 간의 코드 스타일 차이를 줄이고 일관성을 유지하는 데 도움이 된다.

### 부정적
- **제한적인 사용 사례:** `record`는 불변 데이터를 위한 것이므로, JPA 엔티티와 같이 변경 가능한 상태를 추적해야 하는 객체에는 적합하지 않다. (이는 DTO의 역할과 무관하므로 실질적인 단점은 아님)
- **전통적인 Java Bean 규약 미준수:** `getXXX` 형태의 Getter를 명시적으로 가지지 않으므로, 오래된 일부 프레임워크나 라이브러리와의 호환성 문제가 발생할 수 있다. (현재 프로젝트 기술 스택에서는 해당 없음)
